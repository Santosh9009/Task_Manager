(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{7501:function(t,e,a){Promise.resolve().then(a.bind(a,1492))},1492:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var s=a(7437),r=a(2050),n=a(2265),l=a(8479),i=t=>{let{task:e}=t;return(0,s.jsxs)("div",{className:"p-4 bg-white shadow-md rounded-lg border border-gray-200 transition-transform duration-200 transform hover:scale-105",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),e.priority&&(0,s.jsxs)("p",{className:"inline-block px-2 py-1 rounded-full border ".concat({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-red-100 text-red-800"}[e.priority]," text-xs font-semibold"),children:["Priority: ",e.priority.charAt(0).toUpperCase()+e.priority.slice(1)]})]})},o=a(7134),d=a(6763),c=a(2170),u=a.n(c);let f=t=>{let{task:e}=t,{attributes:a,listeners:r,setNodeRef:n,isDragging:o}=(0,l.O1)({id:e._id});return(0,s.jsx)("div",{ref:n,...a,...r,className:"mb-4 transition-transform duration-200 rounded-lg shadow-lg ".concat(o?"opacity-70":"bg-white"),style:o?{transform:"scale(1.03)"}:void 0,children:(0,s.jsx)(i,{task:e})})},h=t=>{let{status:e,tasks:a}=t,{isOver:r,setNodeRef:n}=(0,l.Zj)({id:e});return(0,s.jsxs)("div",{ref:n,className:"w-1/3 p-4 rounded-lg transition-colors duration-200 ".concat(r?"bg-blue-200 border-blue-500":"bg-gray-100 border-gray-300"),children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4",children:e}),a.map(t=>(0,s.jsx)(f,{task:t},t._id)),r&&(0,s.jsx)("div",{className:"border-dashed border-2 border-blue-500 h-12 rounded-lg mt-4"})]})};var g=()=>{let{tasks:t,loadTasks:e,updateTask:a,loading:r}=(0,o.X)();(0,n.useEffect)(()=>{(async()=>{await e()})()},[]);let i=u()(t=>a(t),300),c={"To Do":t.filter(t=>"To Do"===t.status),"In Progress":t.filter(t=>"In Progress"===t.status),Completed:t.filter(t=>"Completed"===t.status)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.LB,{onDragEnd:e=>{let{active:a,over:s}=e;if(s&&a.id!==s.id){let e=t.find(t=>t._id===a.id);e&&(i({...e,status:s.id}),(0,d.Am)({title:"Success",description:"Task moved successfully!"}))}},children:(0,s.jsx)("div",{className:"flex justify-between text-black h-screen",children:Object.entries(c).map(t=>{let[e]=t;return(0,s.jsx)(h,{status:e,tasks:c[e]},e)})})}),r&&(0,s.jsx)("p",{children:"Loading tasks..."})]})},m=()=>(0,s.jsx)(r.Z,{children:(0,s.jsx)(g,{})})},2050:function(t,e,a){"use strict";a.d(e,{Z:function(){return m}});var s=a(7437),r=a(2265),n=a(8292),l=a(2873),i=a(7138),o=a(1444),d=a(2649),c=t=>{let{toggleSidebar:e}=t,a=(0,o.I0)(),c=(0,o.v9)(t=>t.auth.user);return(0,r.useEffect)(()=>{d.Z.get("token")&&!c&&a((0,n.k)())},[c,a]),(0,s.jsxs)("div",{className:"w-full h-16 bg-white shadow-md fixed top-0 left-0 z-50 flex items-center justify-between px-6",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:e,className:"bg-gray-100 p-2 rounded-full focus:outline-none hover:bg-gray-200 transition-all",children:(0,s.jsx)(l.Z,{className:"text-2xl text-gray-600"})}),(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-700 ml-4",children:"Dashboard"})]}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:c?(0,s.jsx)(i.default,{href:"/profile",children:(0,s.jsx)("div",{className:"flex items-center justify-center bg-gray-200 text-gray-700 rounded-full w-10 h-10",children:(t=>{let e=t.split(" ");return e.length>1?e[0][0]+e[1][0]:e[0][0]})(c.username).toUpperCase()})}):(0,s.jsx)("div",{className:"bg-gray-200 rounded-full w-10 h-10"})})]})},u=a(5574),f=a(3852),h=a(6463),g=t=>{let{isOpen:e}=t,a=(0,h.usePathname)(),r=t=>"flex items-center p-3 rounded-lg transition-all cursor-pointer ".concat(a===t?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200");return(0,s.jsxs)("div",{className:"fixed top-0 left-0 h-full w-64 bg-white shadow-lg p-6 transition-transform transform ".concat(e?"translate-x-0":"-translate-x-full"," z-40"),children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-700",children:"Menu"}),(0,s.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,s.jsx)(i.default,{href:"/tasklist",children:(0,s.jsxs)("div",{className:r("/tasklist"),children:[(0,s.jsx)(u.Z,{className:"mr-2"}),(0,s.jsx)("p",{children:"Task List"})]})}),(0,s.jsx)(i.default,{href:"/",children:(0,s.jsxs)("div",{className:r("/"),children:[(0,s.jsx)(f.Z,{className:"mr-2"}),(0,s.jsx)("p",{children:"Home"})]})})]})]})},m=t=>{let{children:e}=t,[a,n]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"relative min-h-screen bg-gray-50",children:[(0,s.jsx)(c,{toggleSidebar:()=>{n(!a)}}),(0,s.jsx)(g,{isOpen:a}),(0,s.jsx)("div",{className:"pt-16 ".concat(a?"pl-64":"pl-0"," transition-all"),children:e})]})}},6763:function(t,e,a){"use strict";a.d(e,{Am:function(){return u},pm:function(){return f}});var s=a(2265);let r=0,n=new Map,l=t=>{if(n.has(t))return;let e=setTimeout(()=>{n.delete(t),c({type:"REMOVE_TOAST",toastId:t})},1e6);n.set(t,e)},i=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:a}=e;return a?l(a):t.toasts.forEach(t=>{l(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===a||void 0===a?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},o=[],d={toasts:[]};function c(t){d=i(d,t),o.forEach(t=>{t(d)})}function u(t){let{...e}=t,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:t=>{t||s()}}}),{id:a,dismiss:s,update:t=>c({type:"UPDATE_TOAST",toast:{...t,id:a}})}}function f(){let[t,e]=s.useState(d);return s.useEffect(()=>(o.push(e),()=>{let t=o.indexOf(e);t>-1&&o.splice(t,1)}),[t]),{...t,toast:u,dismiss:t=>c({type:"DISMISS_TOAST",toastId:t})}}},7134:function(t,e,a){"use strict";a.d(e,{X:function(){return l}});var s=a(2265),r=a(1444),n=a(4459);let l=()=>{let t=(0,r.I0)(),e=(0,r.v9)(t=>t.tasks),[a,l]=(0,s.useState)(!1),i=async()=>{l(!0);try{await t((0,n.Jv)())}catch(t){console.log("Unable to load tasks"+t)}finally{l(!1)}},o=async e=>{l(!0);try{await t((0,n.gI)(e))}catch(t){console.log("Unable to create tasks"+t)}finally{l(!1)}},d=async e=>{l(!0);try{await t((0,n.HZ)(e))}catch(t){console.log("Unable to modify tasks"+t)}finally{l(!1)}},c=async e=>{l(!0);try{await t((0,n.F6)(e))}catch(t){console.log("Unable to delete tasks"+t)}finally{l(!1)}};return{...e,loadTasks:i,createTask:o,updateTask:d,deleteTask:c,loading:a}}},8292:function(t,e,a){"use strict";a.d(e,{ZP:function(){return y},k:function(){return u},pH:function(){return g},TX:function(){return p},EL:function(){return m}});var s=a(6862),r=a(2649),n=a(8472);let l="".concat("http://localhost:8000","/api/auth"),i=async t=>{let e=await n.Z.post("".concat(l,"/login"),t,{withCredentials:!0});return console.log(e.data),e.data},o=async t=>(await n.Z.post("".concat(l,"/signup"),t,{withCredentials:!0})).data,d=async()=>(await n.Z.get("".concat(l,"/me"),{withCredentials:!0})).data,c=t=>t instanceof Error?t.message:"An unknown error occurred",u=(0,s.hg)("auth/fetchCurrentUser",async(t,e)=>{let{rejectWithValue:a}=e;try{return await d()}catch(t){return a(c(t))}}),f=async(t,e)=>{let a=await t(e);if(a.token)return r.Z.set("token",a.token),a.user;throw Error("Token missing")},h=async(t,e)=>{let a=await t(e);if(a.token)return r.Z.set("token",a.token),a.user;throw Error("Token missing")},g=(0,s.hg)("auth/loginUser",async(t,e)=>{let{rejectWithValue:a}=e;try{return await h(i,t)}catch(t){return a(c(t))}}),m=(0,s.hg)("auth/signupUser",async(t,e)=>{let{rejectWithValue:a}=e;try{return await f(o,t)}catch(t){return a(c(t))}}),p=(0,s.hg)("auth/logoutUser",async(t,e)=>{let{rejectWithValue:a}=e;try{r.Z.remove("token")}catch(t){return a(c(t))}});var y=(0,s.oM)({name:"auth",initialState:{user:null,status:"idle",error:null},reducers:{},extraReducers:t=>{t.addCase(u.fulfilled,(t,e)=>{t.user=e.payload,t.status="idle"}).addCase(g.pending,t=>{t.status="loading",t.error=null}).addCase(g.fulfilled,(t,e)=>{t.user=e.payload,t.status="idle"}).addCase(g.rejected,(t,e)=>{t.status="failed",t.error=e.payload||"Login failed"}).addCase(m.pending,t=>{t.status="loading",t.error=null}).addCase(m.fulfilled,(t,e)=>{t.user=e.payload,t.status="idle"}).addCase(m.rejected,(t,e)=>{t.status="failed",t.error=e.payload||"Sign-up failed"}).addCase(p.fulfilled,t=>{t.user=null,t.status="idle",t.error=null}).addCase(p.rejected,(t,e)=>{t.status="failed",t.error=e.payload||"Logout failed"})}}).reducer},4459:function(t,e,a){"use strict";a.d(e,{gI:function(){return u},ZP:function(){return g},Jv:function(){return c},HZ:function(){return f},F6:function(){return h}});var s=a(6862),r=a(8472);let n="".concat("http://localhost:8000","/api/tasks"),l=async()=>(await r.Z.get("".concat(n,"/get"),{withCredentials:!0})).data,i=async t=>(await r.Z.post("".concat(n,"/create"),t,{withCredentials:!0})).data,o=async(t,e)=>(await r.Z.put("".concat(n,"/").concat(t),e,{withCredentials:!0})).data,d=async t=>(await r.Z.delete("".concat(n,"/").concat(t),{withCredentials:!0})).data,c=(0,s.hg)("tasks/fetchTasks",async()=>await l()),u=(0,s.hg)("tasks/addTask",async t=>await i(t)),f=(0,s.hg)("tasks/modifyTask",async t=>await o(t._id,t)),h=(0,s.hg)("tasks/removeTask",async t=>(await d(t),t));var g=(0,s.oM)({name:"tasks",initialState:{tasks:[],status:"idle",error:null},reducers:{},extraReducers:t=>{t.addCase(c.pending,t=>{t.status="loading",t.error=null}).addCase(c.fulfilled,(t,e)=>{t.status="idle",t.tasks=e.payload}).addCase(c.rejected,(t,e)=>{t.status="failed",t.error=e.error.message||"Failed to fetch tasks"}).addCase(u.fulfilled,(t,e)=>{t.tasks.push(e.payload)}).addCase(f.fulfilled,(t,e)=>{let a=t.tasks.findIndex(t=>t._id===e.payload._id);-1!==a&&(t.tasks[a]=e.payload)}).addCase(h.fulfilled,(t,e)=>{t.tasks=t.tasks.filter(t=>t._id!==e.payload)})}}).reducer}},function(t){t.O(0,[901,291,636,971,23,744],function(){return t(t.s=7501)}),_N_E=t.O()}]);